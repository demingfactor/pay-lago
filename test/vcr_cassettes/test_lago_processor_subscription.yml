---
http_interactions:
- request:
    method: get
    uri: http://localhost:3000/api/v1/customers/gid:%2F%2Fdummy%2FPay::Customer%2F772847388
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer 155ed033-8716-4587-9ac6-fed8ddae3317
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"af429c6f51b25054dd9b23522b77d57d"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - "1eb621ad-c152-487e-8233-ed29ea1ddbe0"
      X-Runtime:
      - '0.006367'
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"customer":{"lago_id":"c8bb805a-590c-444f-ae14-66589764f273","external_id":"gid://dummy/Pay::Customer/772847388","name":"Lago
        User","sequential_id":4,"slug":"AMO-FBCD-004","created_at":"2023-09-18T06:42:57Z","updated_at":"2023-09-18T06:43:11Z","country":null,"address_line1":null,"address_line2":null,"state":null,"zipcode":null,"email":"test@example.com","city":null,"url":null,"phone":null,"logo_url":null,"legal_name":null,"legal_number":null,"currency":"USD","tax_identification_number":null,"timezone":null,"applicable_timezone":"UTC","net_payment_term":null,"external_salesforce_id":null,"billing_configuration":{"invoice_grace_period":null,"payment_provider":null,"vat_rate":null,"document_locale":null},"metadata":[],"taxes":[]}}'
  recorded_at: Wed, 20 Sep 2023 03:07:55 GMT
- request:
    method: post
    uri: http://localhost:3000/api/v1/subscriptions
    body:
      encoding: UTF-8
      string: '{"subscription":{"external_customer_id":"gid://dummy/Pay::Customer/772847388","plan_code":"default","name":"default","external_id":"gid://dummy/Pay::Subscription/913727099"}}'
    headers:
      Authorization:
      - Bearer 155ed033-8716-4587-9ac6-fed8ddae3317
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"fb3fb93434e12318f7063defd93d7c68"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 33b9839a-08f2-4c19-82ba-76d2add45bdf
      X-Runtime:
      - 0.017908
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscription":{"lago_id":"4a849692-2b6d-48cc-a3f4-02c03a004b3b","external_id":"gid://dummy/Pay::Subscription/913727099","lago_customer_id":"c8bb805a-590c-444f-ae14-66589764f273","external_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-19T00:47:59Z","started_at":"2023-09-19T00:47:59Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-19T00:47:59Z","previous_plan_code":null,"next_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-19"}}'
  recorded_at: Wed, 20 Sep 2023 03:07:55 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/subscriptions?external_customer_id=gid://dummy/Pay::Customer/772847388&per_page=9223372036854775807
    body:
      encoding: UTF-8
      string: ''
    headers:
      Authorization:
      - Bearer 155ed033-8716-4587-9ac6-fed8ddae3317
      Content-Type:
      - application/json
      User-Agent:
      - Lago Ruby v0.44.0-beta
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - W/"a5adc13a7d66ae7cd525b05b0c7afdad"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - "1373b2d1-3494-48d2-b3f5-5c6049bb40bb"
      X-Runtime:
      - 0.016650
      Vary:
      - Origin
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"subscriptions":[{"lago_id":"4a849692-2b6d-48cc-a3f4-02c03a004b3b","external_id":"gid://dummy/Pay::Subscription/913727099","lago_customer_id":"c8bb805a-590c-444f-ae14-66589764f273","external_customer_id":"gid://dummy/Pay::Customer/772847388","name":"default","plan_code":"default","status":"active","billing_time":"calendar","subscription_at":"2023-09-19T00:47:59Z","started_at":"2023-09-19T00:47:59Z","terminated_at":null,"canceled_at":null,"created_at":"2023-09-19T00:47:59Z","previous_plan_code":null,"next_plan_code":null,"downgrade_plan_date":null,"subscription_date":"2023-09-19"}],"meta":{"current_page":1,"next_page":null,"prev_page":null,"total_pages":1,"total_count":1}}'
  recorded_at: Wed, 20 Sep 2023 03:07:55 GMT
recorded_with: VCR 6.2.0
